import { DefaultPiecesLoader } from './default-pieces-loader';
import { NotationProcessorFactory } from './notation-processors/notation-processor-factory';
export class BoardLoader {
    engineFacade;
    notationProcessor;
    constructor(engineFacade, notationProcessor) {
        this.engineFacade = engineFacade;
        if (notationProcessor) {
            this.notationProcessor = notationProcessor;
        }
        else {
            this.notationProcessor =
                NotationProcessorFactory.getDefaultProcessor();
        }
    }
    addPieces() {
        DefaultPiecesLoader.loadDefaultPieces(this.engineFacade.board);
    }
    loadFEN(fen) {
        this.notationProcessor.process(fen, this.engineFacade);
    }
    loadPGN(pgn) {
        this.notationProcessor.process(pgn, this.engineFacade);
    }
    setEngineFacade(engineFacade) {
        this.engineFacade = engineFacade;
    }
    setNotationProcessor(notationProcessor) {
        this.notationProcessor = notationProcessor;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9hcmQtbG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LWNoZXNzLWJvYXJkL3NyYy9saWIvZW5naW5lL2JvYXJkLXN0YXRlLXByb3ZpZGVyL2JvYXJkLWxvYWRlci9ib2FyZC1sb2FkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBWUEsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFOUQsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sa0RBQWtELENBQUM7QUFFNUYsTUFBTSxPQUFPLFdBQVc7SUFDWixZQUFZLENBQXVCO0lBQ25DLGlCQUFpQixDQUFvQjtJQUU3QyxZQUNJLFlBQWtDLEVBQ2xDLGlCQUFxQztRQUVyQyxJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztRQUVqQyxJQUFJLGlCQUFpQixFQUFFLENBQUM7WUFDcEIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO1FBQy9DLENBQUM7YUFBTSxDQUFDO1lBQ0osSUFBSSxDQUFDLGlCQUFpQjtnQkFDbEIsd0JBQXdCLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUN2RCxDQUFDO0lBQ0wsQ0FBQztJQUVELFNBQVM7UUFDTCxtQkFBbUIsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFRCxPQUFPLENBQUMsR0FBVztRQUNmLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBRUQsT0FBTyxDQUFDLEdBQVc7UUFDZixJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUVELGVBQWUsQ0FBQyxZQUFrQztRQUM5QyxJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztJQUNyQyxDQUFDO0lBRUQsb0JBQW9CLENBQUMsaUJBQW9DO1FBQ3JELElBQUksQ0FBQyxpQkFBaUIsR0FBRyxpQkFBaUIsQ0FBQztJQUMvQyxDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb2FyZCB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9ib2FyZCc7XG5pbXBvcnQgeyBCaXNob3AgfSBmcm9tICcuLi8uLi8uLi9tb2RlbHMvcGllY2VzL2Jpc2hvcCc7XG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9waWVjZXMvY29sb3InO1xuaW1wb3J0IHsgS2luZyB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9waWVjZXMva2luZyc7XG5pbXBvcnQgeyBLbmlnaHQgfSBmcm9tICcuLi8uLi8uLi9tb2RlbHMvcGllY2VzL2tuaWdodCc7XG5pbXBvcnQgeyBQYXduIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3BpZWNlcy9wYXduJztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3BpZWNlcy9wb2ludCc7XG5pbXBvcnQgeyBRdWVlbiB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9waWVjZXMvcXVlZW4nO1xuaW1wb3J0IHsgUm9vayB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9waWVjZXMvcm9vayc7XG5pbXBvcnQgeyBVbmljb2RlQ29uc3RhbnRzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdW5pY29kZS1jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29pbiB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9waWVjZXMvY29pbic7XG5pbXBvcnQgeyBBYnN0cmFjdEVuZ2luZUZhY2FkZSB9IGZyb20gJy4uLy4uL2Fic3RyYWN0LWVuZ2luZS1mYWNhZGUnO1xuaW1wb3J0IHsgRGVmYXVsdFBpZWNlc0xvYWRlciB9IGZyb20gJy4vZGVmYXVsdC1waWVjZXMtbG9hZGVyJztcbmltcG9ydCB7IE5vdGF0aW9uUHJvY2Vzc29yIH0gZnJvbSAnLi9ub3RhdGlvbi1wcm9jZXNzb3JzL25vdGF0aW9uLXByb2Nlc3Nvcic7XG5pbXBvcnQgeyBOb3RhdGlvblByb2Nlc3NvckZhY3RvcnkgfSBmcm9tICcuL25vdGF0aW9uLXByb2Nlc3NvcnMvbm90YXRpb24tcHJvY2Vzc29yLWZhY3RvcnknO1xuXG5leHBvcnQgY2xhc3MgQm9hcmRMb2FkZXIge1xuICAgIHByaXZhdGUgZW5naW5lRmFjYWRlOiBBYnN0cmFjdEVuZ2luZUZhY2FkZTtcbiAgICBwcml2YXRlIG5vdGF0aW9uUHJvY2Vzc29yOiBOb3RhdGlvblByb2Nlc3NvcjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBlbmdpbmVGYWNhZGU6IEFic3RyYWN0RW5naW5lRmFjYWRlLFxuICAgICAgICBub3RhdGlvblByb2Nlc3Nvcj86IE5vdGF0aW9uUHJvY2Vzc29yLFxuICAgICkge1xuICAgICAgICB0aGlzLmVuZ2luZUZhY2FkZSA9IGVuZ2luZUZhY2FkZTtcblxuICAgICAgICBpZiAobm90YXRpb25Qcm9jZXNzb3IpIHtcbiAgICAgICAgICAgIHRoaXMubm90YXRpb25Qcm9jZXNzb3IgPSBub3RhdGlvblByb2Nlc3NvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubm90YXRpb25Qcm9jZXNzb3IgPVxuICAgICAgICAgICAgICAgIE5vdGF0aW9uUHJvY2Vzc29yRmFjdG9yeS5nZXREZWZhdWx0UHJvY2Vzc29yKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRQaWVjZXMoKSB7XG4gICAgICAgIERlZmF1bHRQaWVjZXNMb2FkZXIubG9hZERlZmF1bHRQaWVjZXModGhpcy5lbmdpbmVGYWNhZGUuYm9hcmQpO1xuICAgIH1cblxuICAgIGxvYWRGRU4oZmVuOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5ub3RhdGlvblByb2Nlc3Nvci5wcm9jZXNzKGZlbiwgdGhpcy5lbmdpbmVGYWNhZGUpO1xuICAgIH1cblxuICAgIGxvYWRQR04ocGduOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5ub3RhdGlvblByb2Nlc3Nvci5wcm9jZXNzKHBnbiwgdGhpcy5lbmdpbmVGYWNhZGUpO1xuICAgIH1cblxuICAgIHNldEVuZ2luZUZhY2FkZShlbmdpbmVGYWNhZGU6IEFic3RyYWN0RW5naW5lRmFjYWRlKSB7XG4gICAgICAgIHRoaXMuZW5naW5lRmFjYWRlID0gZW5naW5lRmFjYWRlO1xuICAgIH1cblxuICAgIHNldE5vdGF0aW9uUHJvY2Vzc29yKG5vdGF0aW9uUHJvY2Vzc29yOiBOb3RhdGlvblByb2Nlc3Nvcikge1xuICAgICAgICB0aGlzLm5vdGF0aW9uUHJvY2Vzc29yID0gbm90YXRpb25Qcm9jZXNzb3I7XG4gICAgfVxufVxuIl19