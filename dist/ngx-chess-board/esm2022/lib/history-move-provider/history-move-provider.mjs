import { BehaviorSubject } from 'rxjs';
export class HistoryMoveProvider {
    historyMovesSubject$ = new BehaviorSubject([]);
    get historyMoves() {
        return this.historyMovesSubject$.value;
    }
    set historyMoves(states) {
        this.historyMovesSubject$.next(states);
    }
    addMove(historyMove) {
        this.historyMoves = [...this.historyMoves, historyMove];
    }
    pop() {
        const lastHistoryMove = this.getLastMove();
        this.historyMoves = this.historyMoves.filter((state) => state !== lastHistoryMove);
        return lastHistoryMove;
    }
    getAll() {
        return this.historyMoves;
    }
    clear() {
        this.historyMoves = [];
    }
    getLastMove() {
        return this.historyMoves[this.getLastMoveIndex()];
    }
    getLastMoveIndex() {
        return this.historyMoves.length - 1;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGlzdG9yeS1tb3ZlLXByb3ZpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LWNoZXNzLWJvYXJkL3NyYy9saWIvaGlzdG9yeS1tb3ZlLXByb3ZpZGVyL2hpc3RvcnktbW92ZS1wcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBR3ZDLE1BQU0sT0FBTyxtQkFBbUI7SUFDNUIsb0JBQW9CLEdBQUcsSUFBSSxlQUFlLENBQWdCLEVBQUUsQ0FBQyxDQUFDO0lBRTlELElBQUksWUFBWTtRQUNaLE9BQU8sSUFBSSxDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQztJQUMzQyxDQUFDO0lBRUQsSUFBSSxZQUFZLENBQUMsTUFBcUI7UUFDbEMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsT0FBTyxDQUFDLFdBQXdCO1FBQzVCLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUVELEdBQUc7UUFDQyxNQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDM0MsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FDeEMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLEtBQUssS0FBSyxlQUFlLENBQ3ZDLENBQUM7UUFDRixPQUFPLGVBQWUsQ0FBQztJQUMzQixDQUFDO0lBRUQsTUFBTTtRQUNGLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztJQUM3QixDQUFDO0lBRUQsS0FBSztRQUNELElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFFRCxXQUFXO1FBQ1AsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVELGdCQUFnQjtRQUNaLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSGlzdG9yeU1vdmUgfSBmcm9tICcuL2hpc3RvcnktbW92ZSc7XG5cbmV4cG9ydCBjbGFzcyBIaXN0b3J5TW92ZVByb3ZpZGVyIHtcbiAgICBoaXN0b3J5TW92ZXNTdWJqZWN0JCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8SGlzdG9yeU1vdmVbXT4oW10pO1xuXG4gICAgZ2V0IGhpc3RvcnlNb3ZlcygpOiBIaXN0b3J5TW92ZVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlzdG9yeU1vdmVzU3ViamVjdCQudmFsdWU7XG4gICAgfVxuXG4gICAgc2V0IGhpc3RvcnlNb3ZlcyhzdGF0ZXM6IEhpc3RvcnlNb3ZlW10pIHtcbiAgICAgICAgdGhpcy5oaXN0b3J5TW92ZXNTdWJqZWN0JC5uZXh0KHN0YXRlcyk7XG4gICAgfVxuXG4gICAgYWRkTW92ZShoaXN0b3J5TW92ZTogSGlzdG9yeU1vdmUpIHtcbiAgICAgICAgdGhpcy5oaXN0b3J5TW92ZXMgPSBbLi4udGhpcy5oaXN0b3J5TW92ZXMsIGhpc3RvcnlNb3ZlXTtcbiAgICB9XG5cbiAgICBwb3AoKTogSGlzdG9yeU1vdmUge1xuICAgICAgICBjb25zdCBsYXN0SGlzdG9yeU1vdmUgPSB0aGlzLmdldExhc3RNb3ZlKCk7XG4gICAgICAgIHRoaXMuaGlzdG9yeU1vdmVzID0gdGhpcy5oaXN0b3J5TW92ZXMuZmlsdGVyKFxuICAgICAgICAgICAgKHN0YXRlKSA9PiBzdGF0ZSAhPT0gbGFzdEhpc3RvcnlNb3ZlXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBsYXN0SGlzdG9yeU1vdmU7XG4gICAgfVxuXG4gICAgZ2V0QWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oaXN0b3J5TW92ZXM7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuaGlzdG9yeU1vdmVzID0gW107XG4gICAgfVxuXG4gICAgZ2V0TGFzdE1vdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhpc3RvcnlNb3Zlc1t0aGlzLmdldExhc3RNb3ZlSW5kZXgoKV07XG4gICAgfVxuXG4gICAgZ2V0TGFzdE1vdmVJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlzdG9yeU1vdmVzLmxlbmd0aCAtIDE7XG4gICAgfVxufVxuIl19