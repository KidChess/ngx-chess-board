import { DefaultPiecesLoader } from './default-pieces-loader';
import { NotationProcessorFactory } from './notation-processors/notation-processor-factory';
export class BoardLoader {
    constructor(engineFacade, notationProcessor) {
        this.engineFacade = engineFacade;
        if (notationProcessor) {
            this.notationProcessor = notationProcessor;
        }
        else {
            this.notationProcessor = NotationProcessorFactory.getDefaultProcessor();
        }
    }
    addPieces() {
        DefaultPiecesLoader.loadDefaultPieces(this.engineFacade.board);
    }
    loadFEN(fen) {
        this.notationProcessor.process(fen, this.engineFacade);
    }
    loadPGN(pgn) {
        this.notationProcessor.process(pgn, this.engineFacade);
    }
    setEngineFacade(engineFacade) {
        this.engineFacade = engineFacade;
    }
    setNotationProcessor(notationProcessor) {
        this.notationProcessor = notationProcessor;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9hcmQtbG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LWNoZXNzLWJvYXJkL3NyYy9saWIvZW5naW5lL2JvYXJkLXN0YXRlLXByb3ZpZGVyL2JvYXJkLWxvYWRlci9ib2FyZC1sb2FkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBV0EsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFOUQsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sa0RBQWtELENBQUM7QUFFNUYsTUFBTSxPQUFPLFdBQVc7SUFLcEIsWUFBWSxZQUFrQyxFQUFFLGlCQUFxQztRQUNqRixJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztRQUVqQyxJQUFJLGlCQUFpQixFQUFFO1lBQ25CLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxpQkFBaUIsQ0FBQztTQUM5QzthQUFNO1lBQ0gsSUFBSSxDQUFDLGlCQUFpQixHQUFHLHdCQUF3QixDQUFDLG1CQUFtQixFQUFFLENBQUM7U0FDM0U7SUFFTCxDQUFDO0lBRUQsU0FBUztRQUNMLG1CQUFtQixDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUVELE9BQU8sQ0FBQyxHQUFXO1FBQ2YsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFRCxPQUFPLENBQUMsR0FBVztRQUNmLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQTtJQUMxRCxDQUFDO0lBRUQsZUFBZSxDQUFDLFlBQWtDO1FBQzlDLElBQUksQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDO0lBQ3JDLENBQUM7SUFFRCxvQkFBb0IsQ0FBQyxpQkFBb0M7UUFDckQsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO0lBQy9DLENBQUM7Q0FFSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJvYXJkIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL2JvYXJkJztcbmltcG9ydCB7IEJpc2hvcCB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9waWVjZXMvYmlzaG9wJztcbmltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3BpZWNlcy9jb2xvcic7XG5pbXBvcnQgeyBLaW5nIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3BpZWNlcy9raW5nJztcbmltcG9ydCB7IEtuaWdodCB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9waWVjZXMva25pZ2h0JztcbmltcG9ydCB7IFBhd24gfSBmcm9tICcuLi8uLi8uLi9tb2RlbHMvcGllY2VzL3Bhd24nO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi8uLi8uLi9tb2RlbHMvcGllY2VzL3BvaW50JztcbmltcG9ydCB7IFF1ZWVuIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3BpZWNlcy9xdWVlbic7XG5pbXBvcnQgeyBSb29rIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3BpZWNlcy9yb29rJztcbmltcG9ydCB7IFVuaWNvZGVDb25zdGFudHMgfSBmcm9tICcuLi8uLi8uLi91dGlscy91bmljb2RlLWNvbnN0YW50cyc7XG5pbXBvcnQgeyBBYnN0cmFjdEVuZ2luZUZhY2FkZSB9IGZyb20gJy4uLy4uL2Fic3RyYWN0LWVuZ2luZS1mYWNhZGUnO1xuaW1wb3J0IHsgRGVmYXVsdFBpZWNlc0xvYWRlciB9IGZyb20gJy4vZGVmYXVsdC1waWVjZXMtbG9hZGVyJztcbmltcG9ydCB7IE5vdGF0aW9uUHJvY2Vzc29yIH0gZnJvbSAnLi9ub3RhdGlvbi1wcm9jZXNzb3JzL25vdGF0aW9uLXByb2Nlc3Nvcic7XG5pbXBvcnQgeyBOb3RhdGlvblByb2Nlc3NvckZhY3RvcnkgfSBmcm9tICcuL25vdGF0aW9uLXByb2Nlc3NvcnMvbm90YXRpb24tcHJvY2Vzc29yLWZhY3RvcnknO1xuXG5leHBvcnQgY2xhc3MgQm9hcmRMb2FkZXIge1xuXG4gICAgcHJpdmF0ZSBlbmdpbmVGYWNhZGU6IEFic3RyYWN0RW5naW5lRmFjYWRlO1xuICAgIHByaXZhdGUgbm90YXRpb25Qcm9jZXNzb3I6IE5vdGF0aW9uUHJvY2Vzc29yO1xuXG4gICAgY29uc3RydWN0b3IoZW5naW5lRmFjYWRlOiBBYnN0cmFjdEVuZ2luZUZhY2FkZSwgbm90YXRpb25Qcm9jZXNzb3I/OiBOb3RhdGlvblByb2Nlc3Nvcikge1xuICAgICAgICB0aGlzLmVuZ2luZUZhY2FkZSA9IGVuZ2luZUZhY2FkZTtcblxuICAgICAgICBpZiAobm90YXRpb25Qcm9jZXNzb3IpIHtcbiAgICAgICAgICAgIHRoaXMubm90YXRpb25Qcm9jZXNzb3IgPSBub3RhdGlvblByb2Nlc3NvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubm90YXRpb25Qcm9jZXNzb3IgPSBOb3RhdGlvblByb2Nlc3NvckZhY3RvcnkuZ2V0RGVmYXVsdFByb2Nlc3NvcigpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBhZGRQaWVjZXMoKSB7XG4gICAgICAgIERlZmF1bHRQaWVjZXNMb2FkZXIubG9hZERlZmF1bHRQaWVjZXModGhpcy5lbmdpbmVGYWNhZGUuYm9hcmQpO1xuICAgIH1cblxuICAgIGxvYWRGRU4oZmVuOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5ub3RhdGlvblByb2Nlc3Nvci5wcm9jZXNzKGZlbiwgdGhpcy5lbmdpbmVGYWNhZGUpO1xuICAgIH1cblxuICAgIGxvYWRQR04ocGduOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5ub3RhdGlvblByb2Nlc3Nvci5wcm9jZXNzKHBnbiwgdGhpcy5lbmdpbmVGYWNhZGUpXG4gICAgfVxuXG4gICAgc2V0RW5naW5lRmFjYWRlKGVuZ2luZUZhY2FkZTogQWJzdHJhY3RFbmdpbmVGYWNhZGUpIHtcbiAgICAgICAgdGhpcy5lbmdpbmVGYWNhZGUgPSBlbmdpbmVGYWNhZGU7XG4gICAgfVxuXG4gICAgc2V0Tm90YXRpb25Qcm9jZXNzb3Iobm90YXRpb25Qcm9jZXNzb3I6IE5vdGF0aW9uUHJvY2Vzc29yKSB7XG4gICAgICAgIHRoaXMubm90YXRpb25Qcm9jZXNzb3IgPSBub3RhdGlvblByb2Nlc3NvcjtcbiAgICB9XG5cbn1cbiJdfQ==