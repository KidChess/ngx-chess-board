import { DefaultPiecesLoader } from './default-pieces-loader';
import { NotationProcessorFactory } from './notation-processors/notation-processor-factory';
export class BoardLoader {
    constructor(engineFacade, notationProcessor) {
        this.engineFacade = engineFacade;
        if (notationProcessor) {
            this.notationProcessor = notationProcessor;
        }
        else {
            this.notationProcessor =
                NotationProcessorFactory.getDefaultProcessor();
        }
    }
    addPieces() {
        DefaultPiecesLoader.loadDefaultPieces(this.engineFacade.board);
    }
    loadFEN(fen) {
        this.notationProcessor.process(fen, this.engineFacade);
    }
    loadPGN(pgn) {
        this.notationProcessor.process(pgn, this.engineFacade);
    }
    setEngineFacade(engineFacade) {
        this.engineFacade = engineFacade;
    }
    setNotationProcessor(notationProcessor) {
        this.notationProcessor = notationProcessor;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9hcmQtbG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LWNoZXNzLWJvYXJkL3NyYy9saWIvZW5naW5lL2JvYXJkLXN0YXRlLXByb3ZpZGVyL2JvYXJkLWxvYWRlci9ib2FyZC1sb2FkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBWUEsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFOUQsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sa0RBQWtELENBQUM7QUFFNUYsTUFBTSxPQUFPLFdBQVc7SUFJcEIsWUFDSSxZQUFrQyxFQUNsQyxpQkFBcUM7UUFFckMsSUFBSSxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7UUFFakMsSUFBSSxpQkFBaUIsRUFBRTtZQUNuQixJQUFJLENBQUMsaUJBQWlCLEdBQUcsaUJBQWlCLENBQUM7U0FDOUM7YUFBTTtZQUNILElBQUksQ0FBQyxpQkFBaUI7Z0JBQ2xCLHdCQUF3QixDQUFDLG1CQUFtQixFQUFFLENBQUM7U0FDdEQ7SUFDTCxDQUFDO0lBRUQsU0FBUztRQUNMLG1CQUFtQixDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUVELE9BQU8sQ0FBQyxHQUFXO1FBQ2YsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFRCxPQUFPLENBQUMsR0FBVztRQUNmLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBRUQsZUFBZSxDQUFDLFlBQWtDO1FBQzlDLElBQUksQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDO0lBQ3JDLENBQUM7SUFFRCxvQkFBb0IsQ0FBQyxpQkFBb0M7UUFDckQsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO0lBQy9DLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJvYXJkIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL2JvYXJkJztcbmltcG9ydCB7IEJpc2hvcCB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9waWVjZXMvYmlzaG9wJztcbmltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3BpZWNlcy9jb2xvcic7XG5pbXBvcnQgeyBLaW5nIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3BpZWNlcy9raW5nJztcbmltcG9ydCB7IEtuaWdodCB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9waWVjZXMva25pZ2h0JztcbmltcG9ydCB7IFBhd24gfSBmcm9tICcuLi8uLi8uLi9tb2RlbHMvcGllY2VzL3Bhd24nO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi8uLi8uLi9tb2RlbHMvcGllY2VzL3BvaW50JztcbmltcG9ydCB7IFF1ZWVuIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3BpZWNlcy9xdWVlbic7XG5pbXBvcnQgeyBSb29rIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3BpZWNlcy9yb29rJztcbmltcG9ydCB7IFVuaWNvZGVDb25zdGFudHMgfSBmcm9tICcuLi8uLi8uLi91dGlscy91bmljb2RlLWNvbnN0YW50cyc7XG5pbXBvcnQgeyBDb2luIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3BpZWNlcy9jb2luJztcbmltcG9ydCB7IEFic3RyYWN0RW5naW5lRmFjYWRlIH0gZnJvbSAnLi4vLi4vYWJzdHJhY3QtZW5naW5lLWZhY2FkZSc7XG5pbXBvcnQgeyBEZWZhdWx0UGllY2VzTG9hZGVyIH0gZnJvbSAnLi9kZWZhdWx0LXBpZWNlcy1sb2FkZXInO1xuaW1wb3J0IHsgTm90YXRpb25Qcm9jZXNzb3IgfSBmcm9tICcuL25vdGF0aW9uLXByb2Nlc3NvcnMvbm90YXRpb24tcHJvY2Vzc29yJztcbmltcG9ydCB7IE5vdGF0aW9uUHJvY2Vzc29yRmFjdG9yeSB9IGZyb20gJy4vbm90YXRpb24tcHJvY2Vzc29ycy9ub3RhdGlvbi1wcm9jZXNzb3ItZmFjdG9yeSc7XG5cbmV4cG9ydCBjbGFzcyBCb2FyZExvYWRlciB7XG4gICAgcHJpdmF0ZSBlbmdpbmVGYWNhZGU6IEFic3RyYWN0RW5naW5lRmFjYWRlO1xuICAgIHByaXZhdGUgbm90YXRpb25Qcm9jZXNzb3I6IE5vdGF0aW9uUHJvY2Vzc29yO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGVuZ2luZUZhY2FkZTogQWJzdHJhY3RFbmdpbmVGYWNhZGUsXG4gICAgICAgIG5vdGF0aW9uUHJvY2Vzc29yPzogTm90YXRpb25Qcm9jZXNzb3IsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuZW5naW5lRmFjYWRlID0gZW5naW5lRmFjYWRlO1xuXG4gICAgICAgIGlmIChub3RhdGlvblByb2Nlc3Nvcikge1xuICAgICAgICAgICAgdGhpcy5ub3RhdGlvblByb2Nlc3NvciA9IG5vdGF0aW9uUHJvY2Vzc29yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ub3RhdGlvblByb2Nlc3NvciA9XG4gICAgICAgICAgICAgICAgTm90YXRpb25Qcm9jZXNzb3JGYWN0b3J5LmdldERlZmF1bHRQcm9jZXNzb3IoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZFBpZWNlcygpIHtcbiAgICAgICAgRGVmYXVsdFBpZWNlc0xvYWRlci5sb2FkRGVmYXVsdFBpZWNlcyh0aGlzLmVuZ2luZUZhY2FkZS5ib2FyZCk7XG4gICAgfVxuXG4gICAgbG9hZEZFTihmZW46IHN0cmluZykge1xuICAgICAgICB0aGlzLm5vdGF0aW9uUHJvY2Vzc29yLnByb2Nlc3MoZmVuLCB0aGlzLmVuZ2luZUZhY2FkZSk7XG4gICAgfVxuXG4gICAgbG9hZFBHTihwZ246IHN0cmluZykge1xuICAgICAgICB0aGlzLm5vdGF0aW9uUHJvY2Vzc29yLnByb2Nlc3MocGduLCB0aGlzLmVuZ2luZUZhY2FkZSk7XG4gICAgfVxuXG4gICAgc2V0RW5naW5lRmFjYWRlKGVuZ2luZUZhY2FkZTogQWJzdHJhY3RFbmdpbmVGYWNhZGUpIHtcbiAgICAgICAgdGhpcy5lbmdpbmVGYWNhZGUgPSBlbmdpbmVGYWNhZGU7XG4gICAgfVxuXG4gICAgc2V0Tm90YXRpb25Qcm9jZXNzb3Iobm90YXRpb25Qcm9jZXNzb3I6IE5vdGF0aW9uUHJvY2Vzc29yKSB7XG4gICAgICAgIHRoaXMubm90YXRpb25Qcm9jZXNzb3IgPSBub3RhdGlvblByb2Nlc3NvcjtcbiAgICB9XG59XG4iXX0=